# 各种排序问题中比较器的写法

排序实际上就是不停地交换元素，来达到我们想要的升序或降序结果，而比较器实际上就是我们自己在定义什么时候需要交换两个元素，当其返回为假时不交换，返回真时交换，即把后一个元素跟前一个元素交换位置

以此题中qsort的比较器为例：


>服务器有一批任务需要处理。每个任务有 `ID`、`优先级` (priority) 和 `耗时` (cost)。
>定义结构体 `Task`。规则：
>
>1. 优先级高的任务先执行（数值越大优先级越高）。
>2. 优先级相同，耗时短的先执行。
>3. 如果都相同，ID小的先执行。

其比较器可以写为：
```c
typedef struct {
    int id;
    int priority;
    int cost;
}Task;

int cmp(const void *a,const void *b)
{
    Task*t1=(Task*)a;
    Task*t2=(Task*)b;

    if(t1->priority!=t2->priority)
    {
        return t1->priority<t2->priority;
    }
    if(t1->cost!=t2->cost)
    {
        return t1->cost>t2->cost;
    }
    return t1->id>t2->id;
}
```

当返回的值为真时，相当于把b放到a的前面（交换了a和b）
返回值为假时，不改变a，b顺序（不交换a和b）

比如1，5
想要它为降序，则要交换a和b，需要返回值为真

而当return a<b时，返回值为真，qsort（交换了a和b）把5放在1前面，就实现了降序



不妨再看看优先队列中比较器的写法：

```cpp
struct compare{
    bool operator()(TreeNode*a,TreeNode*b)
    {
        return a->val>b->val;
    }
};
```

这里我想实现升序排列，思想与上述相同，确定什么时候需要交换两个元素，写出相关的返回值的表达式即可
